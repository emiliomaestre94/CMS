<div class="row" >
    <div class="col-md-12">
        <div class="card">

        <div class="card-header"><p>Ofertas Personalizadas</p></div>

            <div class="card-block">

                <div id="buscador" class="form-group row">
                    <div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-btn">
                                <button  type="button" (click)="buscar()" style="width:132px;" class="btn btn-primary"><i class="fa fa-search"></i> Buscar</button>
                            </span>
                            <input type="text" id="input1-group2" name="input1-group2" class="form-control" placeholder="Cod/Nombre" [(ngModel)]="buscadorOfertas">
                        </div>
                        <div *ngIf="busquedaActiva == true"  class="col-sm-12 filtro">
                            <span class="bold fp">Filtrado por:</span>
                            <span class="filtros">
                                <span class="tag bolds">
                                    <a (click)="eliminarBusqueda();" class="btn btn-sm btn-instagram text">
                                    <span data-value="busqueda" class="closex">x</span>
                                    <span class="item">{{tag}}</span>
                                    </a>
                                </span>
                            </span>
                        </div>

                    </div>
                    <div class="col-md-6">
                        <ul class="pagination" id="pagination" >
                            <li class="page-item"><a class="page-link" href="#">Prev</a></li>
                            <li class="page-item active"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item"><a class="page-link" href="#">4</a></li>
                            <li class="page-item"><a class="page-link" href="#">Next</a></li>
                        </ul>
                    </div>
                    <button id="anyadir" class="btn btn-primary" type="button" data-toggle="modal" (click)="showChildModal()"><i class="fa fa-plus"></i> Añadir Oferta</button>
                    <div  *ngIf="error2==true" style="text-align:center; margin-bottom:0px; width: 100%" class="alert alert-danger">
                        {{mensajeError}}
                    </div> 
                    <!-- Aqui va el listado de ofertas-->
                    <table class="table table-hover table-outline mb-0 hidden-sm-down">
                        <thead class="thead-default">
                            <tr >
                                <th class="text-center" style="width: 75px;"><input type="checkbox" name="" value=""></th>
                                <th class="text-center" style="width: 90px;">Banner</th>
                                <th class="text-center" style="width: 90px;">Código</th>
                                <th class="text-center" style="width: 20%;">Nombre</th>
                                <th class="text-center" style="width: 120px;">Precio</th>
                                <th class="oferta" style = "text-align: center; width: 90px;">Oferta</th>
                                <th class="finicio" style = "text-align: center; width: 131px;">F. Inicio</th>
                                <th class="ffinal" style = "text-align: center; width: 130px;">F. Final</th>
                                <th class="text-center" style="width: 90px;"></th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr *ngFor="let oferta of ofertas" >
                                <td class="text-center">
                                    <input type="checkbox" name="" value="">
                                </td>  
                                <td class="text-center" data-toggle="modal" (click)="showChildModalClientesOfertados(oferta);" style="padding-left: 5px; padding-right: 35px;">
                                    <div class="avatar">
                                        <img src="{{oferta.Foto_oferta_usuario}}" class="img-avatar oferta">
                                        <span *ngIf="" class="avatar-status badge-success"></span>
                                    </div>
                                </td>     
                                <td class="text-center" data-toggle="modal" (click)="showChildModalClientesOfertados(oferta);">
                                    <p>{{oferta.Id_oferta_usuario}}</p>
                                </td>
                                <td class="text-center" data-toggle="modal" (click)="showChildModalClientesOfertados(oferta);">
                                    <p class="nombre">{{oferta.Nombre_producto}}</p>
                                </td>
                                <td class="text-center" data-toggle="modal" (click)="showChildModalClientesOfertados(oferta);">
                                    <p style="margin-bottom: 0px;">{{oferta.Precio_producto}} <i class="fa fa-eur"></i></p>
                                </td>
                                <td class="text-center" data-toggle="modal" (click)="showChildModalClientesOfertados(oferta);">
                                    <p class="form-control-static" style="color:#4dbd74; font-size: 16px;" >{{oferta.P_oferta_oferta_usuario}} <i class="fa fa-percent"></i></p>
                                </td>
                                <td class="text-center" data-toggle="modal" (click)="showChildModalClientesOfertados(oferta);">
                                    <p class="form-control-static">{{oferta.Fecha_inicio_oferta_usuario | fecha }}</p>
                                </td>
                                <td class="text-center" data-toggle="modal" (click)="showChildModalClientesOfertados(oferta);">
                                    <p class="form-control-static">{{oferta.Fecha_fin_oferta_usuario | fecha }}</p>
                                </td>
                                <td class="text-center">
                                    <button class="btn btn-primary" type="button" data-toggle="modal" (click)="showChildModalClientesOfertados(oferta);"><i class="fa fa-info-circle"></i> Ver</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div  *ngIf="msgActivo && errorActivo==true && loadingActivo==false" style="text-align:center; margin-bottom:0px; width: 100%" class="alert alert-danger">  {{msgActivo}} </div>
                <div  *ngIf="msgActivo && errorActivo==false && loadingActivo==false" style="text-align:center; margin-bottom:0px; width: 100%" class="alert alert-success">  {{msgActivo}} </div>
            </div>
            <div>
                <button type="button" class="btn btn-danger" style=" margin-left: 15px;"><i class="fa fa-trash-o"></i> Eliminar</button>

                <ul class="pagination" id="pagination" >
                    <li class="page-item"><a class="page-link" href="#">Prev</a></li>
                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item"><a class="page-link" href="#">4</a></li>
                    <li class="page-item"><a class="page-link" href="#">Next</a></li>
                </ul>
            </div>

        </div>
    </div>
</div>


<!--MODAL AÑADIR OFERTA-->
<modal-oferta ></modal-oferta>

<!-- MODAL DETALLE OFERTA -->
<modal-detalle-oferta></modal-detalle-oferta>  